
<dom-module id="form-lkh-view">
    <template>
        <style include="form-style">
            .item-row {
                display: block;
                background-color: #F9F9F9;
                border: 1px solid #dfdfdf;
                box-shadow: none;
                border-radius: 0;
                position: relative;
            }
            .item-row + .item-row {
                margin-top: 15px;
            }
            .item-row vaadin-combo-box {
                padding: 2px 0;
                --paper-input-container-label-floating: {
                    margin-bottom: 0;
                };
            }
            .item-actions {
                position: absolute;
                top: 5px;
                right: 5px;
            }
        </style>
        
        <kct-ajax id="ajax"></kct-ajax>

        <div class="section section-warning" hidden$="[[ !record.data.lkh_is_validating ]]">
            <div>
                <kct-hbox>
                    <div><iron-icon icon="info-outline"></iron-icon></div>
                    <div class="flex"><p style="position: relative; margin-left: 5px; top: 2px;">Dokumen ini sedang dalam pemeriksaan</p></div>
                </kct-hbox>
                
            </div>
        </div>

        <div class="section">
            <h3 class="section-title">Identitas</h3>
            <div>
                <kct-column columns="3">
                    <div>
                        <paper-input label="Nama Lengkap" value="[[ record.data.lkh_su_fullname ]]" readonly></paper-input>
                    </div>
                    <div>
                        <paper-input label="No. Induk" value="[[ record.data.lkh_su_no ]]" readonly></paper-input>
                    </div>
                    <div>
                        <paper-input label="Pangkat / Gol. Ruang" value="[[ record.data.lkh_su_grade ]]" readonly></paper-input>
                    </div>
                </kct-column>
                <paper-input label="Jabatan" value="[[ record.data.lkh_su_sj_name ]]" readonly></paper-input>
                <paper-input label="Unit Kerja" value="[[ record.data.lkh_su_sdp_name ]]" readonly></paper-input>
            </div>
        </div>

        <div class="section">
            <h3 class="section-title">Kegiatan</h3>
        </div>
        <div class="p-b" style="margin-top: -1px;">
            <template is="dom-repeat" items="[[ record.data.items ]]">
                        
                <paper-card class="item-row">
                    <div class="card-content">
                        <paper-input value="[[ item.lki_desc ]]" label="Uraian Kegiatan" readonly></paper-input>
                        <kct-column columns="3">
                            <div>
                                <paper-input value="[[ item.lki_volume ]]"  label="Volume" readonly></paper-input>
                            </div>
                            <div>
                                <paper-input value="[[ item.lki_unit ]]"  label="Satuan" readonly></paper-input>
                            </div>
                            <div>
                                <paper-input value="[[ item.lki_cost ]]"  label="Biaya" readonly></paper-input>
                            </div>
                        </kct-column>
                    </div>
                </paper-card>
            </template>
        </div>

    </template>
    <script>
        class FormLkhView extends FormBase {
            static get is() {
                return 'form-lkh-view';
            }

            ready() {
                super.ready();
                this.set('readonly', true);
                this.set('removable', false);
            }

            initialize() {
                if (this.record.status.tts_data_id) {
                    this.$.ajax.GET('/lkh/' + this.record.status.tts_data_id).then(res => {
                        this.set('record.data', res.data);
                    });
                }
            }
        }
        customElements.define(FormLkhView.is, FormLkhView);
    </script>
</dom-module>