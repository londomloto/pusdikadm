<dom-module id="form-base">
    <script>
        class FormBase extends Polymer.Element {
            static get is() {
                return 'form-base';
            }

            static get properties() {
                return {
                    record: { type: Object, notify: true },
                    action: { type: String, value: 'create'},
                    invalid: { type: Boolean, notify: true },
                    readonly: { type: Boolean, notify: true }
                };
            }

            ready() {
                super.ready();
                this.set('readonly', false);
            }

            toast(title, message, type = 'info') {
                let toast = document.createElement('kct-toast');
                
                toast.duration = 3000;
                toast.type = type;
                toast.title = title;
                toast.message = message;

                document.body.appendChild(toast);
                toast.open();
            }
            
            initialize() {}
            beforeSave(payload) {}
        }
        customElements.define(FormBase.is, FormBase);
    </script>
</dom-module>